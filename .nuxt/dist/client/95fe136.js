(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(t,e,n){},144:function(t,e,n){},172:function(t,e,n){"use strict";n(67);var r={name:"NuxtLoading",data:function(){return{percent:0,show:!1,canSucceed:!0,reversed:!1,skipTimerCount:0,rtl:!1,throttle:200,duration:5e3,continuous:!1}},computed:{left:function(){return!(!this.continuous&&!this.rtl)&&(this.rtl?this.reversed?"0px":"auto":this.reversed?"auto":"0px")}},beforeDestroy:function(){this.clear()},methods:{clear:function(){clearInterval(this._timer),clearTimeout(this._throttle),this._timer=null},start:function(){var t=this;return this.clear(),this.percent=0,this.reversed=!1,this.skipTimerCount=0,this.canSucceed=!0,this.throttle?this._throttle=setTimeout((function(){return t.startTimer()}),this.throttle):this.startTimer(),this},set:function(t){return this.show=!0,this.canSucceed=!0,this.percent=Math.min(100,Math.max(0,Math.floor(t))),this},get:function(){return this.percent},increase:function(t){return this.percent=Math.min(100,Math.floor(this.percent+t)),this},decrease:function(t){return this.percent=Math.max(0,Math.floor(this.percent-t)),this},pause:function(){return clearInterval(this._timer),this},resume:function(){return this.startTimer(),this},finish:function(){return this.percent=this.reversed?0:100,this.hide(),this},hide:function(){var t=this;return this.clear(),setTimeout((function(){t.show=!1,t.$nextTick((function(){t.percent=0,t.reversed=!1}))}),500),this},fail:function(t){return this.canSucceed=!1,this},startTimer:function(){var t=this;this.show||(this.show=!0),void 0===this._cut&&(this._cut=1e4/Math.floor(this.duration)),this._timer=setInterval((function(){t.skipTimerCount>0?t.skipTimerCount--:(t.reversed?t.decrease(t._cut):t.increase(t._cut),t.continuous&&(t.percent>=100||t.percent<=0)&&(t.skipTimerCount=1,t.reversed=!t.reversed))}),100)}},render:function(t){var e=t(!1);return this.show&&(e=t("div",{staticClass:"nuxt-progress",class:{"nuxt-progress-notransition":this.skipTimerCount>0,"nuxt-progress-failed":!this.canSucceed},style:{width:this.percent+"%",left:this.left}})),e}},o=(n(210),n(17)),component=Object(o.a)(r,void 0,void 0,!1,null,null,null);e.a=component.exports},173:function(t,e,n){"use strict";var r=n(17),component=Object(r.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Nuxt")],1)}),[],!1,null,null,null);e.a=component.exports},209:function(t,e,n){"use strict";n(143)},210:function(t,e,n){"use strict";n(144)},211:function(t,e,n){},212:function(t,e,n){},246:function(t,e,n){"use strict";n.r(e);n(243),n(244),n(58),n(38),n(69),n(25),n(50),n(99),n(41),n(21);var r=n(3),o=n(33),c=n(71),l=n(242),h={name:"EntityDetail",components:{Entity:c.default},data:function(){return{schemas:["phylum","class","order","family","genera","species"],entity:null,related:[],child:[],next_flag:6,search:null,loading:!1}},head:function(){var t="Plantae.Link";return this.entity&&this.entity.term&&(t=this.entity.description?this.entity.description:"".concat(this.entity.term.title," Genealogy")),{title:this.entity&&this.entity.term?this.entity.term.title:"Plantae.Link",meta:[{hid:"og:title",name:"og:title",content:this.entity&&this.entity.term?this.entity.term.title:"Plantae.Link"},{hid:"description",name:"description",content:t},{hid:"og:description",name:"og:description",content:t},{hid:"og:url",name:"og:url",content:"https://plantae.link/".concat(this.$route.path)},{hid:"og:type",name:"og:type",content:"article"}].concat(Object(o.a)(this.entity&&this.entity.term&&this.entity.media?[{hid:"og:image",name:"og:image",content:this.entity.media.sizes.full_size}]:[]))}},computed:{flat_entities:function(){var t=this,e=[].concat(Object(o.a)(this.related),Object(o.a)(this.entity?[this.entity]:[]));return e.forEach((function(e){return e.order=t.schemas.indexOf(e.taxonomy)})),e.sort((function(a,b){return a.order===b.order?0:+(a.order>b.order)||-1})),e}},fetch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,c,l,h,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,n=t.$route.params,r=n.flag,c=n.entity,r&&(l=t.schemas.indexOf(r))>=0&&l<t.schemas.length-1&&(t.next_flag=l+1),r||(r="species"),h=[{q:"term_list",p:{related_taxonomy:c?r:void 0,related_term:c,page_size:20,taxonomy:c?void 0:r,reverse:!0,search:t.search},s:["results"],o:"term_list"},{q:"term_detail",p:{taxonomy:r,term:c},s:["id","term","description","media","taxonomy"],o:"term_detail"}].concat(Object(o.a)(c?[{q:"term_list",p:{related_taxonomy:r,related_term:c,page_size:20,reverse:!1},s:["results"],o:"term_child"}]:[])),e.next=7,t.$axios.$post("/graph/",{query:h},{params:{force:t.$route.query.force,host:"9plant.com"}});case 7:data=e.sent,t.entity=data.term_detail,t.related=data.term_list.results,t.child=data.term_child?data.term_child.results:[],t.loading=!1;case 12:case"end":return e.stop()}}),e)})))()},methods:{except:function(t){return t?t.replace(/\n/g," ").replace(/^(.{120}[^\s]*).*/,"$1"):null},handleSearch:Object(l.debounce)((function(){this.$fetch()}),800)}},d=n(17),component=Object(d.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"mb-4 bg-gray-100 border-b py-2"},[n("div",{staticClass:"container mx-auto flex items-center"},[n("n-link",{staticClass:"flex mx-auto",attrs:{to:"/"}},[n("img",{staticClass:"w-6 mr-2",attrs:{src:"/logo.svg",alt:"Plant Genealogy"}}),t._v(" "),n("span",{staticClass:"font-bold text-xl"},[t._v("Plantae.Link")])])],1)]),t._v(" "),n("div",{staticClass:"container md:w-2/5 mx-auto p-4"},[t.entity?n("div",{staticClass:"mb-2 border p-4 flex items-center"},[n("div",{staticClass:"w-32 mr-4"},[t.entity.media?n("img",{staticClass:"rounded",attrs:{src:t.entity.media.sizes.thumb_247_247,alt:""}}):n("img",{attrs:{src:"/plant.svg",alt:""}})]),t._v(" "),t.entity.term?n("div",{staticClass:"flex-1"},[n("h1",{staticClass:"text-2xl font-bold"},[t._v(t._s(t.entity.term.title))]),t._v(" "),n("p",{staticClass:"text-gray-600 text-sm"},[t._v(t._s(t.entity.description))])]):t._e()]):n("div",{staticClass:"mb-2"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"border p-2 px-4 w-full",attrs:{type:"text",placeholder:"Search species"},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},t.handleSearch]}})])]),t._v(" "),n("div",{staticClass:"mb-2 border p-4 bg-yellow-100"},[n("h4",{staticClass:"mb-2 text-sm font-bold text-green-700"},[t._v(t._s(t.entity?"Genealogy":"Species"))]),t._v(" "),t._l(t.flat_entities,(function(e,i){return n("entity",{key:e.id,class:t.entity?"ml-"+8*i:void 0,attrs:{entity:e}})}))],2),t._v(" "),t._l(t.schemas.slice(t.next_flag,6),(function(e){return n("div",{key:e,staticClass:"mb-2 border p-4"},[n("h4",{staticClass:"mb-2 text-sm font-bold text-green-700"},[t._v(t._s(e))]),t._v(" "),t._l(t.child.filter((function(t){return t.taxonomy===e})),(function(t,i){return n("entity",{key:t.id,attrs:{entity:t}})}))],2)}))],2)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Entity:n(71).default})},28:function(t,e,n){"use strict";var r={name:"NuxtError",props:{error:{type:Object,default:null}},computed:{statusCode:function(){return this.error&&this.error.statusCode||500},message:function(){return this.error.message||"Error"}},head:function(){return{title:this.message,meta:[{name:"viewport",content:"width=device-width,initial-scale=1.0,minimum-scale=1.0"}]}}},o=(n(209),n(17)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"__nuxt-error-page"},[n("div",{staticClass:"error"},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"90",height:"90",fill:"#DBE1EC",viewBox:"0 0 48 48"}},[n("path",{attrs:{d:"M22 30h4v4h-4zm0-16h4v12h-4zm1.99-10C12.94 4 4 12.95 4 24s8.94 20 19.99 20S44 35.05 44 24 35.04 4 23.99 4zM24 40c-8.84 0-16-7.16-16-16S15.16 8 24 8s16 7.16 16 16-7.16 16-16 16z"}})]),t._v(" "),n("div",{staticClass:"title"},[t._v(t._s(t.message))]),t._v(" "),404===t.statusCode?n("p",{staticClass:"description"},[void 0===t.$route?n("a",{staticClass:"error-link",attrs:{href:"/"}}):n("NuxtLink",{staticClass:"error-link",attrs:{to:"/"}},[t._v("Back to the home page")])],1):t._e(),t._v(" "),t._m(0)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("a",{attrs:{href:"https://nuxtjs.org",target:"_blank",rel:"noopener"}},[this._v("Nuxt")])])}],!1,null,null,null);e.a=component.exports},71:function(t,e,n){"use strict";n.r(e);n(69),n(21);var r=n(3),o=["phylum","class","order","family","genera","species"],c={name:"Entity",props:{entity:Object,allowExpand:{default:!1,type:Boolean}},data:function(){return{expanded:!(this.allowExpand||!this.$route.params.flag)&&this.entity.taxonomy!==this.$route.params.flag,children:[]}},methods:{expand:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.expanded){n.next=11;break}if(!((r=o.indexOf(t||e.entity.taxonomy)+1)<o.length)){n.next=11;break}return n.next=5,e.$axios.$post("/graph/",{query:[{q:"term_list",p:{related:e.entity.id,page_size:20,taxonomy:o[r],reverse:!1},s:["results"],o:"term_list"}]},{params:{force:e.$route.query.force,host:"9plant.com"}});case 5:if(data=n.sent,e.children=data.term_list.results,0!==e.children.length){n.next=10;break}return n.next=10,e.expand(o[r]);case 10:e.expanded=!0;case 11:case"end":return n.stop()}}),n)})))()}}},l=n(17),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-1"},[n("div",{staticClass:"flex mb-1 items-center"},[n("div",{staticClass:"flex items-center flex-col leading-none w-5 h-5 cursor-pointer",on:{click:t.expand}},[n("span",[t._v(t._s(t.expanded||"species"!==t.entity.taxonomy?"-":"+"))])]),t._v(" "),n("div",{staticClass:"w-5 mx-2"},[t.entity.media?n("img",{staticClass:"rounded",attrs:{src:t.entity.media.sizes.thumb_24_24,alt:""}}):n("div",{staticClass:"border p-1"},[n("img",{attrs:{src:"/plant.svg",alt:""}})])]),t._v(" "),n("div",{staticClass:"flex-1"},[n("h4",{staticClass:"font-bold text-sm"},[n("n-link",{attrs:{to:"/"+t.entity.taxonomy+"/"+t.entity.term.slug}},[t._v(t._s(t.entity.term.title))])],1)])]),t._v(" "),t._l(t.children,(function(t,i){return n("entity",{key:t.id,staticClass:"ml-8",attrs:{"allow-expand":"",entity:t}})}))],2)}),[],!1,null,"036f2a4e",null);e.default=component.exports;installComponents(component,{Entity:n(71).default})}}]);